青云基础网络与私有网络
=====================================

一: 青云基础网路与私有网络的区别?
----------------------------------------------------------------------------------------------

|    青云提供了两种组网方式：基础网络、私有网络（VxNet）。 前者是一个由青云系统维护的全局网络，
| 后者是用户各自自行组建的网络。私有网络类似物理世界中使用交换机（L2 Switch）将多台服务器连接
| 在一起， 组成的局域网。它有两种管理方式：受管（Managed）、自管（Unmanaged）。 路由器用于多
| 个受管私有网络之间互联，并提供三项附加服务： DHCP 服务、端口转发、VPN 隧道服务，涵盖了常用的
| 网络配置与管理工作。 如果青云提供的路由器功能无法满足您对网络管理的需求， 您可以创建自管私有网
| 络，并自行配置和管理该网络。

|    基础网络与私有网络的区别主要在于安全性，配置和管理的方便性,用户使用门槛，和公网IP的配额使用
| 及费用这几个方面。
|
|    1) 安全性的不同
|        对于基础网络，由于它是全局网络，所以其安全保障是依靠防火墙（Security Group）来实现的。
|    需要防御来自公网的攻击。而私有网络，与公网，以及各个私有网络之间是100%隔离的，所以其安全性
|    是很高的，远高于基础网络的安全性。
|
|    2) 配置和管理的方便性的不同,使用的门槛不同
|       基础网络的好处是简单、无需用户做任何配置与管理，即可直接使用，只需要配置防火墙（Security
|  Group）即可。 而与之相对应，私有网络需要用户创建并管理，用户需要了解私有网络的很多知识，并掌握
| 用法，如路由器的创建和管理，私有网络的创建和管理，路由器与私有网络的连接管理等等，管理和使用上是
| 比较复杂的，用户的使用门槛还是挺高的。
|    
|    3) 公网IP的配额,使用及费用不同
|    公网IP地址是在互联网上合法的静态IP地址。 在青云系统中，对公网IP是收费, 每个账户的配额也是很少
| 的，如果需要更多公网IP需要开工单。
|
|    由于使用基础网络需要为每台虚拟机分配一个公网IP, 所以当使用的虚拟机很多时，需要为此支付单独的费
| 用，而且由于青云给每个用户使用的公网IP数量有限制, 初始是2个，所以初始时使用基础网络，只能有两台机器
| 有公网IP，所以搭建应用集群时，得考虑公网IP的配额情况，如果不够需要申请一下。
|
|    对于费用方面，在青云系统中,对公网IP是收费, 按带宽收费，不管流量使用量多少，都要交同样地费用，
| 所以费用上，如果公网IP数量比较多的话，这块的费用也是一笔不小的开销。
|
|    如果使用私有网络的话，为了方便管理，只需要一个公网IP用于管理即可，如果需要将某些应用服务对公网
| 开放, 只需要配置一下负载均衡和路由器即可。所以使用私有网络的话，搭建应用集群时，不受限于公网IP的配额，
| 也不需要为大量的公网IP单独付费，能够在公网IP这块节约不少不必要的成本。  
|    

二: 什么时候使用私有网络？什么时候使用基础网络？
----------------------------------------------------------------------------------------------

|    上面我们看到了私有网络和基础网络在安全性，配置和管理的方便性,用户使用门槛，和公网IP的配额使用
| 及费用这几个方面的不同，所以使用上:
|    1) 如果是开发和测试环境，使用的虚拟机数量不大，推荐使用基础网络，配置和管理比较简单，由于青云
| 的秒级计费，不同的使用关掉可以节省公用IP收费这块的费用，如果需要使用的虚拟机数量不会太大，不需要考
| 虑太多配额的因素，所以即便公网IP配额不够时，现申请下就行，青云处理工单还是很快的。
|    2) 如果是产品环境，使用的虚拟机数量很大，或者安全性要求很高时，推荐使用私有网络，一方面安全，
| 另一方创建环境，伸缩时不需要考虑配额的问题, 公网IP费用上也不会花费很多。
|

三: 使用青云私有网络部署管理应用的最佳实践?
----------------------------------------------------------------------------------------------

|     将所有VM放在私有网络中然后连接至路由器。只由路由器申请一个IP和带宽，所有主机通过
|  路由器共享对外网的访问。当私网内的主机需要被外界访问时，可以通过路由器的端口映射功能来实现。
|                                                                --青云QingCloud
|
.. image:: _static/090-qingcloud-two-networks.png


四: 使用Fit2Cloud可以降低私有网络使用门槛吗?
--------------------------------------------------------------------------

|    由于私有网络需要用户创建并管理，如果用户在青云的Web控制台直接创建并管理私有网络是比较复杂的，
| 要想使用私有网络，您得了解青云里的路由器，私有网络，它们之间的配置连接这些知识，如果想把应用部署
| 在私有网络，如果使用青云的控制台，您需要手工创建路由器，私有网络，公网IP,并手动配置私有网络与
| 路由器的连接，手动启动虚拟机并添加私有网络，为了管理登陆虚拟机，还需要配置端口转发，还是挺复杂的。
| 如果使用Fit2Cloud能够把这些手工操作都省掉, 降低您的使用门槛, 不需要了解太多就能够把应用部署到
| 私有网络里。
|  
|    使用Fit2Cloud可以简化创建和配置管理私有网络的工作，您只需要在创建集群时选择使用私有网络即可，
| Fit2Cloud会自动创建私有网络，路由器，公有IP，并配置连接，设置路由转发，您不再需要手工操作和
| 了解私有网络，路由器及其配置连接的知识。
|

五: 如何使用Fit2Cloud在青云中创建私有网络并将应用部署到私有网络中并管理?
----------------------------------------------------------------------------------------------------------------------------------------------------

|    您只需要在创建集群时选择使用私有网络即可，Fit2Cloud会自动创建私有网络，路由器，公有IP，并
| 配置连接，启动虚拟机并添加到私有网络，设置虚拟机登陆端口的路由转发规则, 您需要登陆某台私有网络内
| 的虚拟机时，能否在虚拟机列表页面找到其路由转发端口，并用虚拟机的key登陆虚拟机。
|
|    部署应用时，您只需要创建虚拟机组并设置组内虚拟机初始化配置启动脚本即可，当虚拟机启动后，Fit2Cloud
| 会执行这些脚本完成应用各个组件的部署配置和启动。





